var Autoencoder=React.createClass({displayName:"Autoencoder",getInitialState:function(){return{vUnits:2,hUnits:3,lUnits:2,lvis:0,lhid:0,llab:0}},componentDidMount:function(){for(var t,e,n,a,i=[],s=[],l=[],t=0;t<parseInt(this.state.vUnits);t++)i.push({id:t,text:t+1});for(c2=t;t<c2+parseInt(this.state.hUnits);t++)s.push({id:t,text:t+1});for(c2=t;t<c2+parseInt(this.state.lUnits);t++)l.push({id:t,text:t+1});e=i.length,n=s.length,a=l.length,this.setState({lvis:i.length,lhid:s.length,llab:l.length})},updateHid:function(){for(var t,e=0,n=[],a=[],i=0;i<parseInt(this.state.vUnits);i++)n.push(document.getElementById("unit"+i));for(var i=parseInt(this.state.vUnits);i<parseInt(this.state.vUnits)+parseInt(this.state.hUnits);i++)a.push(document.getElementById("unit"+i));for(var i=0;i<parseInt(this.state.hUnits);i++){console.log("hunit["+i+"]: "+a[i]),t=a[i].getAttribute("title").substring(9).split(",");for(var s=0;s<t.length;s++)e+=parseInt(t[s])*parseInt(n[s].getAttribute("value")),console.log(t[s]),console.log(n[s].getAttribute("value")),console.log("sum(hid="+i+",vis="+s+"):"+e);e>=Math.random()&&"0"==a[i].getAttribute("value")?(a[i].click(),console.log(a[i])):e<Math.random()&&"1"==a[i].getAttribute("value")&&a[i].click()}},setVUnits:function(t){this.setState({vUnits:t.target.value})},setHUnits:function(t){this.setState({hUnits:t.target.value})},setLUnits:function(t){this.setState({lUnits:t.target.value})},render:function(){for(var t,e,n,a,i=[],s=[],l=[],t=0;t<parseInt(this.state.vUnits);t++)i.push({id:t,text:t+1});for(c2=t;t<c2+parseInt(this.state.hUnits);t++)s.push({id:t,text:t+1});for(c2=t;t<c2+parseInt(this.state.lUnits);t++)l.push({id:t,text:t+1});e=i.length,n=s.length,a=l.length;var r=function(t,e){for(var n=[],a=t;a<e;a++)n.push([1]);return n},c=function(t,e,n,a,i,s){this.style={color:"blue",border:"1px solid"},this.name=t,this.clickFunc=e,this.value=n,this.type=s,this.arr=[],this.size=parseInt(a),this.sizeIn=parseInt(i),this.getLay=function(){return{name:this.name,clickFunc:this.clickFunc,style:this.style,value:this.value,arr:this.arr,type:this.type,size:this.size,sizeIn:this.sizeIn,id:0}};for(var l=o;l<o+parseInt(a);l++)this.arr.push({id:l,text:l+1});console.log("this.arr"+this.arr.toString()),o+=parseInt(a)},u=new c("Visible Layer: ",this.updateHid,"1",this.state.vUnits),o=0,h=new c("Visible Layer: ",this.updateHid,"1",this.state.vUnits,0,0).getLay();console.log("NU:"+o);var d=new c("Hidden Layer: ",this.updateHid,"0",this.state.hUnits,this.state.vUnits,1).getLay(),p=new c("Label Layer: ",this.updateHid,"0",this.state.lUnits,this.state.hUnits,2).getLay(),m=[h,d,p];return React.createElement("div",null,React.createElement("table",null,React.createElement("tr",null,React.createElement("td",null,"Visible units: ",React.createElement("input",{value:this.state.vUnits,onChange:this.setVUnits,type:"text"})),React.createElement("td",null,"Hidden units: ",React.createElement("input",{value:this.state.hUnits,onChange:this.setHUnits,type:"text"})),React.createElement("td",null,"Label units: ",React.createElement("input",{value:this.state.lUnits,onChange:this.setLUnits,type:"text"})))),React.createElement("br",null),React.createElement("div",{style:{backgroundColor:"#ddd"}},React.createElement("table",null,m.map(function(t){return React.createElement("tr",null,React.createElement("td",null,t.name,React.createElement("br",null),React.createElement("a",{onClick:t.clickFunc,style:t.style},React.createElement("i",null,"Propagate "),React.createElement("img",{src:"arrow.png"}))),t.arr.map(function(e){return console.log("laySize:"+t.size),React.createElement(Unit,{weights:r(0,t.sizeIn),value:t.value,id:"unit"+e.id,text:e.text},e.text)}))}),React.createElement("br",null),React.createElement("br",null),React.createElement("tr",null,React.createElement("td",null,u.name,React.createElement("br",null),React.createElement("a",{onClick:u.clickFunc,style:u.style},React.createElement("i",null,"Propagate "),React.createElement("img",{src:"arrow.png"}))),i.map(function(t){return React.createElement(Unit,{value:u.value,id:"unit"+t.id,text:t.text,key:t.id})})),React.createElement("tr",null,React.createElement("td",null,"Hidden Layer: "),s.map(function(t){return React.createElement(Unit,{weights:r(0,e),value:"0",id:"unit"+t.id,text:t.text,key:t.id})})),React.createElement("tr",null,React.createElement("td",null,"Label Layer: "),l.map(function(t){return React.createElement(Unit,{weights:r(e,e+n),value:"0",id:"unit"+t.id,text:t.text,key:t.id})})))),React.createElement("svg",{height:"210",width:"500px"},React.createElement("line",{x1:0,y1:0,x2:500,y2:500,className:"line"}),"Sorry, browser does not support inline SVG."))}}),Unit=React.createClass({displayName:"Unit",unitClicked:function(){0==this.props.value?this.props.value=1:this.props.value=0,this.forceUpdate()},render:function(){var t=[];return void 0!=this.props.weights&&(t=this.props.weights),React.createElement("td",{onClick:this.unitClicked,title:"weights: "+t,value:this.props.value,id:this.props.id,className:"unit",style:{backgroundColor:"rgb(238,238,"+(255-255*this.props.value)+")",color:"black"},key:this.props.key},"Unit: ",this.props.text,React.createElement("br",null),"Value: ",this.props.value)}}),Graph=React.createClass({displayName:"Graph",componentDidMount:function(){this.draw("x,y","(x,y):",[-20,-15,-15,-10,-5,0,5,10,15,20],[-40,-30,-20,-20,-10,0,10,20,30,40])},render:function(){return React.createElement("div",null,React.createElement("div",{id:"chart_div"}))},draw:function(t,e,n,a){function i(){var t=google.visualization.arrayToDataTable(s),e={title:"Test Data:",legend:"none",backgroundColor:"#eee"},n=new google.visualization.ScatterChart(document.getElementById("chart_div"));n.draw(t,e)}var s=[[t,e]];for(p=0;p<n.length;p++)s.push([n[p],a[p]]);google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(i)}});ReactDOM.render(React.createElement("div",null,React.createElement(Autoencoder,null)),document.getElementById("content"));